<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Álványos szolgálat</title>
  <link rel="icon" type="image/png" href="icon.png">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { 
      font-family: Arial, Helvetica, sans-serif; 
      padding: 20px; 
    }  
    .dark-mode { 
     background-color: #000;
     color: white;
    }
    table { border-collapse: collapse; width: 100%; margin-top: 20px; }
    td, th { border: 1px solid #000; padding: 4px; font-size: 12px; }
    button { margin-top: 10px; }
  </style>
</head>
<body>
    <div class="h-16"></div>
    <div class="flex-1 p-6 max-w-2xl mx-auto">
      <h1 class="text-4xl font-bold text-center">Álványos szolgálat</h1>
      <button id="previous" class="block mx-auto mt-4 px-7 py-2 bg-cyan-700 text-white rounded-lg hover:bg-cyan-800 transition" onclick="window.open('ellozo.html', '_self')">-</button> 
      <button id="current" class="block mx-auto mt-4 px-7 py-2 bg-cyan-700 text-white rounded-lg hover:bg-cyan-800 transition" onclick="window.open('mostani.html', '_self')">-</button> 
      <button id="upcoming" class="block mx-auto mt-4 px-7 py-2 bg-cyan-700 text-white rounded-lg hover:bg-cyan-800 transition" onclick="window.open('kovetkezo.html', '_self')">-</button>
      <button id="darkMode" class="block mx-auto mt-4 px-7 py-2 bg-cyan-700 text-white rounded-lg hover:bg-cyan-800 transition">Sötét</button> 
    </div>
 
    
    <script>
    const endpoint = "https://ferlaty.github.io/alvanyos-szolgalat-app/data.json";

   async function updateButtons() {
    try {
      const response = await fetch(endpoint);
      if (!response.ok) throw new Error("Network response failed");

      const data = await response.json();

      // Loop through all buttons in JSON
      data.buttons.forEach(btn => {
        const button = document.getElementById(btn.id);
        if (button) {
          button.textContent = btn.value;
        }
      });
    } catch (error) {
      console.error("Failed to fetch button data:", error);
    }
  }

  window.addEventListener("DOMContentLoaded", updateButtons);
</script>

<script>
    const element = document.body;
  const btn = document.getElementById("darkMode");

  // Load saved mode
  if (localStorage.getItem("Mode") === "dark") {
    element.classList.add("dark-mode");
    btn.textContent = "Világos";
  }

  btn.addEventListener("click", function () {
    const isDark = element.classList.toggle("dark-mode"); // true if now dark

    if (isDark) {
      localStorage.setItem("Mode", "dark");
      btn.textContent = "Világos";
    } else {
      localStorage.setItem("Mode", "light");
      btn.textContent = "Sötét";
    }
  });
</script>

</body>